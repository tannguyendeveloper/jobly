(this.webpackJsonpjobly=this.webpackJsonpjobly||[]).push([[0],{288:function(e,t){},290:function(e,t){},304:function(e,t){},306:function(e,t){},334:function(e,t){},336:function(e,t){},337:function(e,t){},342:function(e,t){},344:function(e,t){},363:function(e,t){},375:function(e,t){},378:function(e,t){},519:function(e,t,n){},520:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(36),s=n.n(c),o=n(8),i=n.n(o),u=n(17),l=n(31),b=n(13),j=(n(284),n(277)),p=n(23),d=n(34),m=n(257),h=n(84),O=n(19),x=n(20),f=n(258),v=n.n(f),g="https://jobly-backend-tn.herokuapp.com/",w=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"request",value:function(){var t=Object(u.a)(i.a.mark((function t(n){var r,a,c,s,o,u,l=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=l.length>2&&void 0!==l[2]?l[2]:"get",console.debug("API Call:",n,r,a),c="".concat(g,"/").concat(n),s={Authorization:"Bearer ".concat(e.token)},o="get"===a?r:{},t.prev=6,t.next=9,v()({url:c,method:a,data:r,params:o,headers:s});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0.response),u=t.t0.response.data.error.message,Array.isArray(u)?u:[u];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"?name=".concat(t):"",console.log(n),e.next=4,this.request("companies/".concat(n));case 4:return r=e.sent,console.log(r.companies),e.abrupt("return",r.companies);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postCompany",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/",t,"post");case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCompany",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t.handle),t,"patch");case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCompany",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t),{},"delete");case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJobs",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"?title=".concat(t):"",console.log(n),e.next=4,this.request("jobs/".concat(n));case 4:return r=e.sent,console.log(r.jobs),e.abrupt("return",r.jobs);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request("auth/token",t,"post");case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerUser",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request("auth/register",t,"post");case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request("users/".concat(t),{},"get");case 3:return n=e.sent,r=n.user,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=Object(h.a)(t,["username"]),e.prev=1,delete r.isAdmin,e.next=5,this.request("users/".concat(n),r,"patch");case 5:return a=e.sent,c=a.user,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"applyToJob",value:function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request("users/".concat(t,"/jobs/").concat(n),{},"post");case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),y=n(3),k=function(e){var t=e.company;return Object(y.jsx)("li",{className:"border border-gray-200 p-3 mb-2",children:Object(y.jsxs)(d.b,{to:"/companies/".concat(t.handle),children:[t.logoUrl,t.logoUrl?Object(y.jsx)("img",{src:"".concat(t.logoUrl),alt:""}):null,Object(y.jsx)("strong",{children:t.name}),Object(y.jsx)("p",{children:t.description})]})})},N=function(e){var t=e.companies;Object(h.a)(e,["companies"]);return Object(y.jsx)("ul",{children:t.map((function(e,t){return console.log(e),Object(y.jsx)(k,{company:e},"company-".concat(t))}))})},S=n(524),C=S.a.Search,E=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getCompanies(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"max-w-screen-lg mx-auto",children:[Object(y.jsx)("h1",{className:"block text-xl text-center m-3",children:"Companies"}),Object(y.jsx)(C,{placeholder:"input search text",onSearch:c,style:{width:200},className:"my-3"}),n.length?Object(y.jsx)(N,{companies:n}):Object(y.jsx)(y.Fragment,{})]})},U=n(522),I=n(275),L=Object(r.createContext)(),_=function(e){var t,n=e.job,a=Object(r.useContext)(L),c=a.applyToJob,s=a.dispatch,o=(a.token,a.user),b=null===o||void 0===o?void 0:o.user,j=b.applications,p=b.username,d=null===j||void 0===j?void 0:j.includes(n.id),m=Object(r.useState)(!1),h=Object(l.a)(m,2),O=h[0],x=(h[1],Object(r.useCallback)(Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n.id),e.next=4,c(p,n.id);case 4:t=e.sent,console.log(t),s({type:"APPLY_TO_JOB",jobId:t}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[c,s,n.id,p]));return Object(y.jsxs)("li",{className:"border border-gray-200 p-3 mb-2 clear-both",children:[Object(y.jsx)("strong",{children:null===n||void 0===n?void 0:n.title}),(null===n||void 0===n?void 0:n.salary)?Object(y.jsxs)("p",{children:["Salary: $",null===n||void 0===n?void 0:n.salary]}):"",null!==(t=n.companyName)&&void 0!==t?t:Object(y.jsx)("p",{children:Object(y.jsx)("strong",{children:n.companyName})}),Number(null===n||void 0===n?void 0:n.equity)>0?Object(y.jsxs)("p",{children:["Equity: ",null===n||void 0===n?void 0:n.equity]}):null,Object(y.jsx)(I.a,{className:"float-right",loading:O,disabled:d,onClick:x,children:d?"Applied":"Apply"}),Object(y.jsx)("div",{className:"clear-both"})]})},q=function(e){var t=e.jobs,n=void 0===t?[]:t,r=n.map((function(e){return Object(y.jsx)(_,{job:e},"job-".concat(e.id))}));return(null===n||void 0===n?void 0:n.length)?Object(y.jsx)("ul",{children:r}):null},A=function(){var e=Object(p.h)().handle,t=Object(r.useState)(),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(l.a)(s,2),b=o[0],d=o[1],m=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,w.getCompany(t);case 4:n=e.sent,c(n),d(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),j.b.error("Unable to load company"),d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){m(e)}),[e]),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(U.a,{spinning:b,children:Object(y.jsxs)("div",{className:"max-w-screen-lg mx-auto",children:[Object(y.jsx)("h1",{className:"text-xl text-center m-3",children:null===a||void 0===a?void 0:a.name}),Object(y.jsx)("p",{children:null===a||void 0===a?void 0:a.description}),Object(y.jsx)(q,{jobs:null===a||void 0===a?void 0:a.jobs})]})})})},P=n(38),T=n(523),R=n(525),F=n(33),J=F.a().shape({username:F.b().required(),password:F.b().required()}),G={labelCol:{span:8},wrapperCol:{span:16}},D={wrapperCol:{offset:8,span:16}},B=function(){var e=Object(r.useContext)(L);return Object(y.jsx)(P.c,{initialValues:{username:"",password:""},onSubmit:e.login,validationSchema:J,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t=e.handleSubmit;e.isSubmitting;return Object(y.jsxs)(T.a,Object(b.a)(Object(b.a)({},G),{},{name:"basic",children:[Object(y.jsx)(T.a.Item,{label:"Username",name:"username",children:Object(y.jsx)(R.a,{id:"Username",name:"username"})}),Object(y.jsx)(T.a.Item,{label:"Password",name:"password",children:Object(y.jsx)(R.a.Password,{id:"Password",name:"password"})}),Object(y.jsx)(T.a.Item,Object(b.a)(Object(b.a)({},D),{},{name:"hello",children:Object(y.jsx)(I.a,{type:"primary",onClick:t,children:"Submit"})}))]}))}})},V=function(){var e,t=Object(r.useContext)(L),n=t.user.user;return Object(y.jsxs)("div",{className:"max-w-screen-lg mx-auto",children:[Object(y.jsx)("h1",{className:"text-xl text-center m-3",children:"Jobly"}),(null===(e=t.user)||void 0===e?void 0:e.isLoggedIn)?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("h2",{children:["Welcome ",n.username,"!"]})}):Object(y.jsx)(B,{})]})},Y=S.a.Search,z=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getJobs(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"max-w-screen-lg mx-auto",children:[Object(y.jsx)("h1",{className:"block text-xl text-center m-3",children:"CompaniesJobs"}),Object(y.jsx)(Y,{placeholder:"input search text",onSearch:c,style:{width:200},className:"my-3"}),Object(y.jsx)(q,{jobs:n})]})},M=function(){var e,t=Object(r.useContext)(L);return console.log(t),(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.isLoggedIn)?Object(y.jsx)(p.a,{to:"/"}):Object(y.jsx)(B,{})},W=F.a().shape({username:F.b().max(25).required(),password:F.b().min(5).required(),firstName:F.b().required(),lastName:F.b().required(),email:F.b().email().required()}),$={labelCol:{span:8},wrapperCol:{span:16}},H={wrapperCol:{offset:8,span:16}},K=function(){var e=Object(r.useContext)(L);console.log(e);var t=e.user.user;return delete t.applications,Object(y.jsx)(P.c,{initialValues:t,onSubmit:e.updateUser,validationSchema:W,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t=e.handleSubmit,n=e.isSubmitting;return Object(y.jsx)(U.a,{spinning:n,children:Object(y.jsxs)(T.a,Object(b.a)(Object(b.a)({},$),{},{name:"basic",children:[Object(y.jsx)(T.a.Item,{label:"Username",name:"username",children:Object(y.jsx)(R.a,{id:"Username",name:"username",disabled:!0})}),Object(y.jsx)(T.a.Item,{label:"First Name",name:"firstName",children:Object(y.jsx)(R.a,{id:"firstName",name:"firstName"})}),Object(y.jsx)(T.a.Item,{label:"Last Name",name:"lastName",children:Object(y.jsx)(R.a,{id:"lastName",name:"lastName"})}),Object(y.jsx)(T.a.Item,{label:"Email",name:"email",children:Object(y.jsx)(R.a,{id:"email",name:"email"})}),Object(y.jsx)(T.a.Item,{label:"Password",name:"password",children:Object(y.jsx)(R.a.Password,{id:"Password",name:"password"})}),Object(y.jsx)(T.a.Item,Object(b.a)(Object(b.a)({},H),{},{name:"hello",children:Object(y.jsx)(I.a,{type:"primary",onClick:t,children:"Save Changes"})}))]}))})}})},Q=function(){return Object(y.jsxs)("div",{className:"max-w-screen-lg mx-auto",children:[Object(y.jsx)("h1",{className:"block text-xl text-center m-3",children:"Edit Profile"}),Object(y.jsx)(K,{})]})},X=F.a().shape({username:F.b().max(25).required(),password:F.b().min(5).required(),firstName:F.b().required(),lastName:F.b().required(),email:F.b().email().required()}),Z={labelCol:{span:8},wrapperCol:{span:16}},ee={wrapperCol:{offset:8,span:16}},te=function(){var e=Object(r.useContext)(L).signup;return Object(y.jsx)(P.c,{initialValues:{username:"",password:"",firstName:"",lastName:"",email:""},onSubmit:function(){var t=Object(u.a)(i.a.mark((function t(n,r){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.setSubmitting,t.prev=1,t.next=4,e(n);case 4:t.sent,a(!1),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),a(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),validationSchema:X,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t=e.handleSubmit,n=e.isSubmitting;return Object(y.jsx)(U.a,{spinning:n,children:Object(y.jsxs)(T.a,Object(b.a)(Object(b.a)({},Z),{},{name:"basic",children:[Object(y.jsx)(T.a.Item,{label:"Username",name:"username",children:Object(y.jsx)(R.a,{id:"Username",name:"username"})}),Object(y.jsx)(T.a.Item,{label:"Password",name:"password",children:Object(y.jsx)(R.a.Password,{id:"Password",name:"password"})}),Object(y.jsx)(T.a.Item,{label:"First Name",name:"firstName",children:Object(y.jsx)(R.a,{id:"firstName",name:"firstName"})}),Object(y.jsx)(T.a.Item,{label:"Last Name",name:"lastName",children:Object(y.jsx)(R.a,{id:"lastName",name:"lastName"})}),Object(y.jsx)(T.a.Item,{label:"Email",name:"email",children:Object(y.jsx)(R.a,{id:"email",name:"email"})}),Object(y.jsx)(T.a.Item,Object(b.a)(Object(b.a)({},ee),{},{name:"hello",children:Object(y.jsx)(I.a,{type:"primary",onClick:t,children:"Submit"})}))]}))})}})},ne=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(te,{})})},re=function(e){var t=Object(r.useState)(localStorage[e]?localStorage[e]:null),n=Object(l.a)(t,2),a=n[0],c=n[1];return[a,{set:function(t){console.log(e,t),localStorage.setItem(e,t),c(t)},remove:function(){localStorage.removeItem(e),c()}}]},ae=function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(d.b,{to:"/login",className:"mx-2",children:"Login"}),Object(y.jsx)(d.b,{to:"/signup",className:"mx-2",children:"Signup"})]})},ce=function(){var e=Object(r.useContext)(L),t=e.user,n=e.logout;return Object(y.jsxs)("div",{children:[Object(y.jsx)(d.c,{to:"/companies",className:"mx-2",children:"Companies"}),Object(y.jsx)(d.c,{to:"/jobs",className:"mx-2",children:"Jobs"}),Object(y.jsx)(d.c,{to:"/profile",className:"mx-2",children:"Profile"}),Object(y.jsx)("a",{children:Object(y.jsxs)("button",{onClick:n,className:"mx-2 hover:",children:["Logout ",t.username]})})]})},se=function(){var e,t=Object(r.useContext)(L);return Object(y.jsxs)("div",{className:"bg-gray-100 p-3 flex justify-between",children:[Object(y.jsx)(d.b,{to:"/",className:"",children:"Jobly"}),(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.isLoggedIn)?Object(y.jsx)(ce,{}):Object(y.jsx)(ae,{})]})},oe=function(e){var t,n=e.children,a=Object(h.a)(e,["children"]),c=Object(r.useContext)(L);return(null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.isLoggedIn)?Object(y.jsx)(p.b,Object(b.a)(Object(b.a)({},a),{},{children:n})):Object(y.jsx)(B,{})},ie={isLoggedIn:!1,isLoading:!1},ue=function(e,t){switch(t.type){case"SET_LOADING":return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.isLoading});case"SET_LOADING_USER_TRUE":return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0});case"SET_LOADING_USER_FALSE":return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1});case"APPLY_TO_JOB":var n=Object(b.a)({},e);return n.user.applications.push(t.jobId),n;case"LOGIN_USER":return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)({},t.user),isLoggedIn:!0});case"UPDATE_USER":var r=Object(b.a)(Object(b.a)({},e.user),t.user);return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)({},r)});case"LOGOUT_USER":return ie;default:throw new Error}};var le=function(){var e=Object(p.g)(),t=re("token"),n=Object(l.a)(t,2),a=n[0],c=n[1],s=c.set,o=c.remove,b=Object(r.useReducer)(ue,ie),h=Object(l.a)(b,2),O=h[0],x=h[1],f=Object(r.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x({type:"SET_LOADING_USER_TRUE"}),e.next=4,w.login(t);case 4:n=e.sent,r=n.token,s(r),e.next=16;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),j.b.error("Inavlid Username/Password"),x({type:"SET_LOADING_USER_FALSE"}),o(),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[o,s]),v=Object(r.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.registerUser(t);case 3:n=e.sent,(r=n.token)&&s(r),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),Object(j.b)("error"),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[s]),g=Object(r.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,a=n.resetForm,e.prev=1,e.next=4,w.updateUser(t);case 4:c=e.sent,j.b.success("Profile Updated Successfully"),x({type:"UPDATE_USER",user:c}),a(),r(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),j.b.error("Unable to update profile."),r(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),[]),k=Object(r.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.applyToJob(t,n);case 3:if((r=e.sent).applied){e.next=6;break}throw new Error;case 6:return a=r.applied,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}());return Object(r.useEffect)((function(){console.log(a);var e=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x({type:"SET_LOADING_USER_TRUE"}),e.next=4,w.getUser(t);case 4:n=e.sent,x({type:"LOGIN_USER",user:n}),x({type:"SET_LOADING_USER_FALSE"}),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),x({type:"SET_LOADING_USER_FALSE"}),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();a&&(w.token=a,e(Object(m.decode)(a).username))}),[a]),Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(d.a,{history:e,children:Object(y.jsxs)(L.Provider,{value:{applyToJob:k,dispatch:x,login:f,logout:function(){o(),x({type:"LOGOUT_USER"})},signup:v,token:a,updateUser:g,user:O},children:[Object(y.jsx)("header",{className:"App-header",children:Object(y.jsx)(se,{})}),Object(y.jsxs)(p.d,{children:[Object(y.jsx)(p.b,{path:"/",exact:!0,component:V}),Object(y.jsx)(oe,{path:"/companies/",exact:!0,component:E}),Object(y.jsx)(oe,{path:"/companies/:handle",exact:!0,component:A}),Object(y.jsx)(oe,{path:"/jobs",exact:!0,component:z}),Object(y.jsx)(p.b,{path:"/login",exact:!0,component:M}),Object(y.jsx)(p.b,{path:"/signup",exact:!0,component:ne}),Object(y.jsx)(oe,{path:"/profile",exact:!0,component:Q})]})]})})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,526)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(519);s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(le,{})}),document.getElementById("root")),be()}},[[520,1,2]]]);
//# sourceMappingURL=main.f85f7355.chunk.js.map